(this.webpackJsonprickcyclopedia=this.webpackJsonprickcyclopedia||[]).push([[0],{28:function(e,a,t){e.exports=t(58)},33:function(e,a,t){},34:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var c=t(0),n=t.n(c),r=t(22),s=t.n(r),l=(t(33),t(34),function(){return n.a.createElement("header",{className:"header"},n.a.createElement("div",{className:"header__logo"},n.a.createElement("a",{className:"header__logo-link",href:"/"},"Rickcyclopedia.")))}),i=t(3),o=function(e){var a=e.id,t=void 0===a?"":a,c=e.label,r=void 0===c?"":c,s=e.isChecked,l=void 0!==s&&s,i=e.onChange,o=void 0===i?void 0:i,d=e._class,m=void 0===d?"":d,u=e.testId,p=void 0===u?"":u;return n.a.createElement("label",{className:"checkbox ".concat(m)},r,n.a.createElement("input",{id:t,type:"checkbox",checked:l,onChange:o,"data-test-id":p}),n.a.createElement("span",{className:"checkmark"}))},d=function(e){var a=e.type,t=e.options,c=e.applyFilters;return n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"filters__category"},n.a.createElement("div",{className:"filters__name-section"},n.a.createElement("h4",{className:"filters__name"},a)),n.a.createElement("div",{className:"filters__options"},n.a.createElement("ul",{className:"filters__list"},t&&t.map((function(e){return n.a.createElement("li",{key:e.type},n.a.createElement(o,{label:e.type,isChecked:e.isSelected,onChange:function(t){c(a,e.type,t.target.checked)}}))}))))))},m=function(e){var a=e.id,t=void 0===a?"":a,c=e.isIcon,r=void 0!==c&&c,s=e._class,l=void 0===s?"":s,i=e.ariaLabel,o=void 0===i?"":i,d=e.onClick,m=void 0===d?void 0:d,u=e.testId,p=void 0===u?"":u,v=e.children,h=void 0===v?null:v,f=e.type,E=void 0===f?"button":f;return n.a.createElement("button",{type:E,id:t,className:"btn ".concat(r?"btn-icon":""," ").concat(l),"aria-label":o,onClick:m,"data-test-id":p},h)},u=t(1),p={sortOptions:[{value:"id",name:"Sort by ID"},{value:"name",name:"Sort by Name"}],filterCategories:[{type:"status",options:[{type:"Alive",isSelected:!1},{type:"Dead",isSelected:!1},{type:"unknown",isSelected:!1}]},{type:"species",options:[{type:"Human",isSelected:!1},{type:"Alien",isSelected:!1},{type:"Mytholog",isSelected:!1}]},{type:"gender",options:[{type:"Male",isSelected:!1},{type:"Female",isSelected:!1}]},{type:"origin",options:[{type:"unknown",isSelected:!1},{type:"Post-Apocalyptic Earth",isSelected:!1},{type:"Nuptia 4",isSelected:!1}]}]},v=t(23),h=t.n(v),f=t(27),E=t(6),_=t(11),y=t.n(_),b=t(24),g=t.n(b),N=p,k=Object(c.createContext)(N),C=k.Provider,O=null,j=new Set,w=function(e){var a=e.children,t=Object(c.useReducer)((function(e,a){switch(a.type){case"FETCH_DATA":return O=h()(a.payload.results),Object(u.a)(Object(u.a)({},e),{},{data:a.payload});case"SEARCH_CHAR":var t=(i=O,o=a.payload,y()(i,(function(e){return e.name.toLowerCase().includes(o.toLowerCase())})));return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{results:t})});case"APPLY_FILTER":var c=e.filterCategories;c.forEach((function(e){e.type===a.payload.type&&e.options.forEach((function(e){e.type===a.payload.optionType&&(e.isSelected=a.payload.isChecked,a.payload.isChecked?j.add(a.payload.optionType):j.delete(e.type))}))}));var n=function(e,a,t){var c=[],n=new Map;return t.forEach((function(e){e.options.forEach((function(a){if(a.isSelected)if(n.has(e.type))n.get(e.type).push(a.type);else{var t=[];t.push(a.type),n.set(e.type,t)}else if(n.has(e.type)){var c=n.get(e.type),r=c&&c.indexOf(a.type);-1!==r&&c.splice(r,1)}}))})),n.size&&n.forEach((function(e,t){e.forEach((function(e){var n=Object(E.a)({},t,e),r=y()(a,n);c.push.apply(c,Object(f.a)(r))}))})),c}(e.data.results,O,c);return Object(u.a)(Object(u.a)({},e),{},{filterCategories:c,selectedFilters:j,data:Object(u.a)(Object(u.a)({},e.data),{},{results:n})});case"SORT_DATA":var r=(s=e.data.results,l=a.payload,g()(s,[l.sortParam],[l.sortOrder]));return Object(u.a)(Object(u.a)({},e),{},{data:Object(u.a)(Object(u.a)({},e.data),{},{results:r})});case"CLEAR_DATA":return Object(u.a)(Object(u.a)({},e),{},{data:[]});default:throw new Error}var s,l,i,o}),N),r=Object(i.a)(t,2),s=r[0],l=r[1];return n.a.createElement(C,{value:{state:s,dispatch:l}},a)},S=function(){var e=Object(c.useContext)(k),a=e.state.filterCategories,t=e.dispatch,r=Object(c.useState)(!1),s=Object(i.a)(r,2),l=s[0],o=s[1],u=function(e,a,c){t({type:"APPLY_FILTER",payload:{type:e,optionType:a,isChecked:c}})};return n.a.createElement("div",{className:"filters"},n.a.createElement("div",{className:"filters__title-section"},n.a.createElement("h3",{className:"filters__title"},"Filters"),n.a.createElement(m,{isIcon:!0,_class:"filters__toggle",onClick:function(){o(!l)}},n.a.createElement("i",{className:"fa fa-".concat(l?"minus":"plus")}))),n.a.createElement("div",{className:"filters__section ".concat(l?"expanded":"")},a.map((function(e){return n.a.createElement(d,Object.assign({key:e.type},e,{applyFilters:u}))}))))},A=function(){return n.a.createElement("div",{className:"side-bar"},n.a.createElement("div",{className:"side-bar__content"},n.a.createElement(S,null)))},T=t(25),x=t.n(T),L=function(e){var a=e.label,t=void 0===a?"":a,c=e.onClose,r=void 0===c?void 0:c;return n.a.createElement("div",{className:"chip"},n.a.createElement("span",{className:"chip__label"},t),r&&n.a.createElement("button",{type:"button",className:"chip__closebtn",onClick:r,"aria-label":"close chip"}))},R=function(){var e=Object(c.useContext)(k).state.selectedFilters;return e&&e.size>0?n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"selected-filters"},n.a.createElement("h3",{className:"selected-filters__title"},"Selected filters"),n.a.createElement("div",{className:"selected-filters__chips-section"},Array.from(e).map((function(e){return n.a.createElement(L,{key:e,label:e})}))))):null},D=function(e){var a=e.id,t=void 0===a?"":a,c=e.ariaLabel,r=void 0===c?"":c,s=e.testId,l=void 0===s?"":s,i=e.defaultValue,o=void 0===i?"":i,d=e.onChange,m=void 0===d?void 0:d,u=e.optionsData,p=void 0===u?[]:u,v=e._class,h=void 0===v?"":v;return n.a.createElement("select",{id:t,"aria-label":r,"data-test-id":l,defaultValue:o,onChange:m,className:"select ".concat(h)},p&&p.map((function(e){return n.a.createElement("option",{key:e.value,value:e.value},e.name)})))},F=function(e){var a=e.inputLabel,t=void 0===a?"":a,r=e.btnLabel,s=void 0===r?"":r,l=e.handleSearch,o=void 0===l?void 0:l,d=Object(c.useState)(""),u=Object(i.a)(d,2),p=u[0],v=u[1],h=function(e){o(p.trim()),e.preventDefault()};return n.a.createElement("div",{className:"search-bar"},n.a.createElement("form",{onSubmit:h},n.a.createElement("label",{htmlFor:"search-term",className:"search-bar__title"},t),n.a.createElement("div",{className:"search-bar__input-section"},n.a.createElement("input",{id:"search-term",type:"text",className:"search-bar__input",onChange:function(e){v(e.target.value)}}),n.a.createElement(m,{type:"submit",onClick:h},s))))},P=function(){var e=Object(c.useContext)(k),a=e.state,t=e.dispatch,r=Object(c.useState)("id"),s=Object(i.a)(r,2),l=s[0],o=s[1],d=a.sortOptions,u=function(e){t({type:"SORT_DATA",payload:{sortParam:l,sortOrder:e}})};return n.a.createElement("div",{className:"search-sort"},n.a.createElement(F,{inputLabel:"Search by name",btnLabel:"Search",handleSearch:function(e){t({type:"SEARCH_CHAR",payload:e})}}),n.a.createElement("div",{className:"search-sort__sort-section"},n.a.createElement(D,{_class:"search-sort__sort",optionsData:d,defaultValue:"id",onChange:function(e){o(e.target.value)}}),n.a.createElement("div",{className:"search-sort__cta-section"},n.a.createElement(m,{isIcon:!0,onClick:function(){return u("asc")}},n.a.createElement("i",{className:"fa fa-chevron-up"})),n.a.createElement(m,{isIcon:!0,onClick:function(){return u("desc")}},n.a.createElement("i",{className:"fa fa-chevron-down"})))))},I=function(e){var a=new Date,t=new Date(e);return function(e,a){var t=e-a;return t<6e4?Math.floor(t/1e3)+" seconds ago":t<36e5?Math.floor(t/6e4)+" minutes ago":t<864e5?Math.floor(t/36e5)+" hours ago":t<2592e6?Math.floor(t/864e5)+" days ago":t<31536e6?Math.floor(t/2592e6)+" months ago":Math.floor(t/31536e6)+" years ago"}(a.getTime(),t.getTime())},M=function(e){var a=e.character,t=void 0===a?{}:a,c=t.name,r=void 0===c?"":c,s=t.id,l=void 0===s?"":s,i=t.status,o=void 0===i?"":i,d=t.species,m=void 0===d?"":d,u=t.gender,p=void 0===u?"":u,v=t.origin,h=void 0===v?{}:v,f=t.location,E=void 0===f?{}:f,_=t.image,y=void 0===_?"":_,b=t.created,g=void 0===b?"":b;return n.a.createElement("div",{className:"character-card"},n.a.createElement("div",{className:"character-card__image-section"},n.a.createElement("img",{src:y,alt:r,className:"character-card__image"}),n.a.createElement("div",{className:"character-card__title-wrapper"},n.a.createElement("div",{className:"character-card__title-section"},n.a.createElement("h4",{className:"character-card__title"},r),n.a.createElement("span",{className:"character-card__details"},"id: ".concat(l," - ").concat("Created"," ").concat(I(g)))))),n.a.createElement("div",{className:"character-card__content-section"},n.a.createElement("div",{className:"character-card__desc-item"},n.a.createElement("span",{className:"character-card__desc-type"},"status"),n.a.createElement("span",{className:"character-card__desc-data"},o)),n.a.createElement("div",{className:"character-card__desc-item"},n.a.createElement("span",{className:"character-card__desc-type"},"species"),n.a.createElement("span",{className:"character-card__desc-data"},m)),n.a.createElement("div",{className:"character-card__desc-item"},n.a.createElement("span",{className:"character-card__desc-type"},"gender"),n.a.createElement("span",{className:"character-card__desc-data"},p)),n.a.createElement("div",{className:"character-card__desc-item"},n.a.createElement("span",{className:"character-card__desc-type"},"origin"),n.a.createElement("span",{className:"character-card__desc-data"},h.name)),n.a.createElement("div",{className:"character-card__desc-item"},n.a.createElement("span",{className:"character-card__desc-type"},"last location"),n.a.createElement("span",{className:"character-card__desc-data"},E.name))))},W=function(){var e=Object(c.useContext)(k).state.data;return n.a.createElement("div",{className:"results-section"},e&&e.results.map((function(e){return n.a.createElement(M,{key:"".concat(e.id,"_").concat(e.name),character:e})})))},H=function(e){var a=e.message,t=void 0===a?"":a;return n.a.createElement("div",{className:"no-results"},n.a.createElement("p",{className:"no-results__message"},t))},U=function(e){var a=e.fetchData,t=Object(c.useContext)(k).state.data;return n.a.createElement("div",{className:"content-section"},n.a.createElement(R,null),n.a.createElement(P,null),t&&t.results&&t.results.length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(W,null),n.a.createElement(x.a,{previousLabel:"Prev",nextLabel:"Next",breakLabel:"...",breakClassName:"break-me",pageCount:t.info.pages||0,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){var t="".concat("?page=").concat(e.selected+1);a(t)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"})):n.a.createElement(H,{message:"No results found!"}))},q=t(12),V=t.n(q),z=t(26),B=t(7),G=t.n(B),J=G.a.create({baseURL:"https://rickandmortyapi.com/api/character/",timeout:5e3,headers:{"access-control-allow-origin":"*","content-type":"application/json;charset=UTF-8"}}),K=(G.a.CancelToken.source(),G.a.isCancel,J),Y=function(){var e=Object(z.a)(V.a.mark((function e(a){var t,c,n,r,s,l,i,o,d;return V.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.url,c=a.data,r=null,s=null,l=(n=void 0===c?{params:{}}:c).params||{},i={headers:{}},e.prev=5,"GET"!==n.requestType){e.next=13;break}return e.next=9,K.get(t,{params:l},i);case 9:o=e.sent,r={data:o.data},e.next=18;break;case 13:if("POST"!==n.requestType||!l){e.next=18;break}return e.next=16,K.post(t,l,i);case 16:d=e.sent,r={data:d.data};case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(5),s={data:e.t0.response};case 23:return e.abrupt("return",{response:r,error:s});case 24:case"end":return e.stop()}}),e,null,[[5,20]])})));return function(a){return e.apply(this,arguments)}}(),$=function(){return n.a.createElement("div",{className:"spinner"})},Q=function(){var e=Object(c.useContext)(k),a=e.state,t=e.dispatch,r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=Y({url:e,data:{requestType:"GET"}});a.then((function(e){var a=e.response,c=e.error;if(a){var n=a.data;t({type:"FETCH_DATA",payload:n})}c&&(c.data&&t({type:"CLEAR_DATA"}))}))};return Object(c.useEffect)((function(){r()}),[]),n.a.createElement("div",{className:"main"},a.data&&Object.keys(a.data).length>0?n.a.createElement(n.a.Fragment,null,n.a.createElement(A,null),n.a.createElement(U,{fetchData:r})):n.a.createElement($,null))},X=function(){return n.a.createElement("div",{className:"footer"},n.a.createElement("div",{className:"footer__content-section"},n.a.createElement("span",{className:"footer__appName"},"\xa9 ","Rickcyclopedia",", "),n.a.createElement("span",null,n.a.createElement("i",{className:"fa fa-github"})," ",n.a.createElement("a",{className:"footer__git-link",href:"https://github.com/kaskaush",target:"_blank",rel:"noopener noreferrer"},"Kaushik Kasibhatla"))))},Z=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(l,null),n.a.createElement(Q,null),n.a.createElement(X,null))},ee=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ae(e,a){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;null!=t&&(t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),a&&a.onUpdate&&a.onUpdate(e)):(console.log("Content is cached for offline use."),a&&a.onSuccess&&a.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(n.a.createElement(w,null,n.a.createElement(Z,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/rickcyclopedia",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var a="".concat("/rickcyclopedia","/service-worker.js");ee?(!function(e,a){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(t){var c=t.headers.get("content-type");404===t.status||null!=c&&-1===c.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ae(e,a)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(a,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ae(a,e)}))}}()}},[[28,1,2]]]);
//# sourceMappingURL=main.491c281b.chunk.js.map